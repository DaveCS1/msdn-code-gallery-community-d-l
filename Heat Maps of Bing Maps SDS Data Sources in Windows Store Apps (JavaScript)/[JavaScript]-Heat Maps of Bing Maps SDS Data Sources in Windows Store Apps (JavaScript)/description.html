<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="description/Combined.css,0:HeaderFooterSprite,0:Header.NonMtps,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;hashKey=C9973DA951AE6202C9B348379A1BE49D" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="description/a7bd86db-8a7a-43ce-8954-21f8f839f51bCombined.css,0:HeaderFooterSprite,0:Footer.NonMtps,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;hashKey=F576C687BC536B84D6E5B3246EE39B49" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Heat Maps of Bing Maps SDS Data Sources in Windows Store Apps (JavaScript)</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="description/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="description/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>Heat Maps of Bing Maps SDS Data Sources in Windows Store Apps (JavaScript)</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            Javascript, Bing Maps, Windows Store app
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            Bing Maps, Windows Store app
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Windows RT
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        Bing Maps SDK for Windows Store apps
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">6/24/2013</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MS-LPL</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="http://code.msdn.microsoft.com/Heat-Maps-of-Bing-Maps-SDS-883bcdb5">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h1>Introduction</h1>
<p>This code sample demonstrates how to generate heat maps of location data hosted in Bing Maps Spatial Data Services data sources using the&nbsp;JavaScript Bing Maps Windows Store App SDK. Heat maps are an effective means of visualizing trends by showing the
 relative density of location-based data.&nbsp;This example&nbsp;leverages&nbsp;the
<a href="http://bingmapsv7modules.codeplex.com/wikipage?title=Client%20Side%20Heatmap">
Heat&nbsp;Map</a> module from the Bing Maps V7 Modules project on&nbsp;Codeplex to render heat maps&nbsp;in a&nbsp;Windows Store app, drawing on the publicly available data&nbsp;sources provided by Bing Maps, as well as private data sources uploaded via Bing
 Maps Spatial Data Services.&nbsp;Various configuration parameters are exposed via the UI to enable dynamic modification of the heat map rendering options, and&nbsp;the filter criteria used to query the data sources.&nbsp;</p>
<h1><span>Building the Sample</span></h1>
<p>To run this sample you must install the <a href="http://go.microsoft.com/fwlink/?LinkID=264993&amp;clcid=0x409">
Bing Maps SDK for Windows Store apps</a>&nbsp;and get a <a href="http://msdn.microsoft.com/en-us/library/ff428642.aspx">
Bing Maps key</a> for Windows Store apps. You must also have Windows 8 and Visual Studio 2012.</p>
<p>Open the sample in Visual Studio and insert your Bing Maps key in the&nbsp;default.html file&nbsp;where it says &ldquo;INSERT_BING_MAPS_KEY_HERE&rdquo; in the source code. You must perform the following steps for your app project to work correctly with Bing
 Maps. Detailed instructions are provided below.&nbsp;</p>
<p>Build the sample by press F5 or use <strong>Debug &gt; Start Debugging</strong>. To run the app without debugging, press Ctrl&#43;F5 or use
<strong>Debug &gt; Start Without Debugging</strong></p>
<p><span style="font-size:20px; font-weight:bold">Description</span></p>
<p>This code sample shows techniques for leveraging client-side heat mapping capabilities with large data sets with the use of filtering, limiting data volumes, and rendering options included in the UI.</p>
<p>By generating heat maps of public Bing Maps data sources, you can enhance apps by:</p>
<ul>
<li>showing heat maps of restaurants/bars in a city to show where nightlife is concentrated
</li><li>showing heat maps of where industry is concentrated </li><li>showing heat maps of where specific chains are </li></ul>
<p>By generating heat maps of your own private data sources, you can identify trends in your business data, and use it to drive smarter business decisions.</p>
<ul>
<li>You can manually choose from four publicly available data sources (FourthCoffee, NavteqNA, NavteqEU, or TrafficIncidents) or enter your own data source details and Bing Maps key, to reload the map and view your own custom data
</li><li>The app uses the current map view to retrieve only those entities in the current view
<ul>
<li>As the map is navigated, the entities in the current map view will be reloaded, unless the &lsquo;Update entities on pan/zoom?&rsquo; checkbox is de-selected. De-selecting the checkbox can be useful for analyzing a particular heatmap view without the performance
 hit of reloading all of the data </li></ul>
</li><li>You can add in your own filter text, to apply filters on-the-fly, though you must know the data source<br>
schema to use this effectively </li><li>You can select your own Maximum Entities value, to choose your own cut-off point in the tradeoff between performance and data volume
</li><li>As you navigate the map, you can update the heatmap radius and intensity, to best show the current data,<br>
based on zoom factor and data concentration
<ul>
<li>If you click the &lsquo;Update Heat&rsquo; button, it will update these attributes without reloading all of the data
</li></ul>
</li><li>If you change the Maximum Entities or Filter text, and wish to reload the data, or if you have deselected the &lsquo;Update entities on pan/zoom?&rsquo; checkbox, you can reload the data on demand with the &lsquo;Reload data&rsquo; button
</li></ul>
<p><br>
Here is a screenshot of the application, showing hotspots of restaurants in Seattle:</p>
<p><img id="85453" src="description/Win8SDSHeatmap_small.jpg" alt="" width="643" height="362"></p>
<h1>&nbsp;</h1>

</div>


    </div>
</body>
</html>
