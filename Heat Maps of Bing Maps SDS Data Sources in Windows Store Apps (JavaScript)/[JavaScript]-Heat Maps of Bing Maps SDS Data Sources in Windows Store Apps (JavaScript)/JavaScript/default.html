<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Bing Maps Data Source Heat Maps</title>

    <!-- WinJS and Default references -->
    <link href="//Microsoft.WinJS.1.0/css/ui-dark.css" rel="stylesheet" />
    <script src="//Microsoft.WinJS.1.0/js/base.js"></script>
    <script src="//Microsoft.WinJS.1.0/js/ui.js"></script>
    <link href="/css/default.css" rel="stylesheet" />
    <script src="/js/default.js"></script>

    <!-- Bing Maps Map Control references -->
    <script type="text/javascript" src="ms-appx:///Bing.Maps.JavaScript//js/veapicore.js"></script>
    <script type="text/javascript" src="ms-appx:///Bing.Maps.JavaScript//js/veapimodules.js"></script>

    <!-- Bing Maps CSS and JS -->
    <link href="/css/sdsheatmap.css" rel="stylesheet" />
    <script src="/js/sdsheatmap.js"></script>

    <!-- Register and include client-side heatmap community module (see http://bingmapsv7modules.codeplex.com/) -->
    <script>Microsoft.Maps.registerModule('HeatMapModule');</script>
    <script type="text/javascript" src="js/heatmap.js"></script>
</head>
<body>
    <div id="wrapper">
    <div id="controls"><h2>Data Source Heatmap:</h2>
          <div class="input">Choose Data Source <b>or</b> Enter manually:</div>
          <div class="input"><select id="selDatasource" onchange="populateDSValues();"></select></div>
          <div class="input">Data Source ID:</div>
          <div class="input"><input id="txtDSID" type="text" size="18" class="input" value="20181f26d9e94c81acdf9496133d4f23" onsubmit="loadMap()" /></div>
          <div class="input">Data Source Name:</div>
          <div class="input"><input id="txtDSName" type="text" size="18" class="input" value="FourthCoffeeSample" onsubmit="loadMap()" /></div>
          <div class="input">Entity Type Name:</div>
          <div class="input"><input id="txtEntityName" type="text" size="18" class="input" value="FourthCoffeeShops" onsubmit="loadMap()" /></div>
          <div class="input">Query Key:</div>
          <div class="input"><input id="txtQueryKey" type="text" size="18" class="input" value="INSERT_BING_MAPS_KEY_HERE" onsubmit="loadMap()" /></div>
          <div class="input"><button id="btnLoadMap" onclick="loadMap()" class="btnGray" >Load Datasource</button></div>
          <div class="input">Filter Text:</div>
          <div class="input">&nbsp;e.g. IsWiFiHotSpot Eq False</div>
          <div class="input"><input id="txtFilter" type="text" size="18" class="input" onsubmit="drawHeatmap()" /></div>
          <div class="input">Maximum Entities:</div>
          <div class="input"><input id="txtLimit" type="text" size="18" class="input" value="2000" onsubmit="drawHeatmap()" /></div>
          <div class="input">Heatmap Radius (m):</div>
          <div class="input"><input id="txtRadius" type="text" size="18" class="input" value="500" onsubmit="drawHeatmap()" /></div>
          <div class="input">Heatmap Intensity (0 to 1):</div>
          <div class="input"><input id="txtIntensity" type="text" size="18" class="input" value="0.5" onsubmit="drawHeatmap()" /></div>
          <div class="input">Update entities on pan/zoom?:</div>
          <div class="input"><input id="chkUpdate" type="checkbox" checked /></div>
          <div class="input"><button id="UpdateButton" onclick="drawHeatmap()" class="btnGray" >Update Heat</button><button id="btnSearch" onclick="InitiateSearch()" class="btnGray" >Reload Data</button></div>
          <div class="input">Entities in heat map: <span id="spanNumEntities">0</span></div>
          <div class="input"><progress id="determinateProgressBar" value="100" max="100"></progress></div>
          <div id="spanZoomWarning" class="warning">To many entities;<br />Zoom in or add filter criteria.</div>
    </div>

    <!-- Map Div: Bing Map will sit in this element-->
    <div id="mapDiv"></div>
    </div>



    
</body>
</html>
