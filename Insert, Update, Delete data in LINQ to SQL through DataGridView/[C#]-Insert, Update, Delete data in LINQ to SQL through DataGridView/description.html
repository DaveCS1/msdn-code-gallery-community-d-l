<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Header,0:HeaderFooterSprite,0:Header.NonMtps,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;v=2C5971170CD50D071D8444DDD87E68CD" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Footer,0:HeaderFooterSprite,0:Footer.NonMtps,1:FooterSock,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;v=01F89A31F1103BC3B9A3B2562E9C41B3" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Insert, Update, Delete data in LINQ to SQL through DataGridView</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="https://i1.code.msdn.s-msft.com/content/common/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="https://i1.code.msdn.s-msft.com/content/common/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>Insert, Update, Delete data in LINQ to SQL through DataGridView</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            C#, LINQ to SQL, LINQ, Windows Forms, .NET Framework, DataGridView, C# Language, Visual C#, Visual Studio 2012, .NET 4.5
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            C#, LINQ to SQL, LINQ, Windows Forms, Visual Studio, DataGridView, desktop, Button, Visual Studio 2012, CRUD
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Desktop
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">1/31/2015</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MIT</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="https://code.msdn.microsoft.com/Insert-Update-Delete-data-f39f431c">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<p><strong>Introduction:</strong></p>
<p><strong>Today in this article(code sample) I will show you how to in insert, update, delete, display data in LINQ To SQL through DataGridView.</strong><strong>&nbsp;</strong></p>
<p>What problem does the sample solve ?</p>
<p>Ans:Sometimes we need to insert , delete, update record(data) we need GUI &nbsp;form to insert the data and also for update and deleting the data.For doing this we have to make three GUI for our CRUD operations and this is difficult task for the users who
 will use the application. So what is the solution for solving it. Here is the solution. In this code sample we will insert , update,delete data from a single GUI that is called DataGridView. This is easy approach for the user where he/she can operate his CRUD
 operations from a single GUI.</p>
<p>&nbsp;</p>
<p>Start</p>
<ul>
<li>Open your visual studio make new Windows Forms project&nbsp; with any name. </li><li>&nbsp;Then open server explorer the make a new database with some name and make a new table add some columns in the table.
</li><li>Then open your project and go in to solution explorer and right click on the project and then click add new item.
</li><li>There search LINQ-To-SQL and add this file and press ok button. </li><li>Then you will see a blank file there on that file you will drag your table in the sql server database file on to the LINQ-To-SQL .dbml file extension.
</li></ul>
<p>&nbsp;</p>
<p>Diagram:</p>
<p><img id="133239" src="https://i1.code.msdn.s-msft.com/insert-update-delete-data-f39f431c/image/file/133239/1/linq-to-sql.jpg" alt="" width="624" height="354"></p>
<p>Insert Data:</p>
<p>&nbsp;</p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden">  private void SaveButton_Click(object sender, EventArgs e)
        {
            StudentDataClasses1DataContext SDCD1 = new StudentDataClasses1DataContext(@&quot;Data Source=(LocalDB)\v11.0;AttachDbFilename=c:\users\ehtesham mehmood\documents\visual studio 2012\Projects\FP1\FP1\abc.mdf;Integrated Security=True;Connect Timeout=30&quot;);
            StudentInfo SI = new StudentInfo();
            int rowindex = dataGridView1.CurrentRow.Index;  // here rowindex will get through currentrow property of datagridview.

            SI.Id = Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[0].Value);
            SI.Name = Convert.ToString(dataGridView1.Rows[rowindex].Cells[1].Value);
            SI.Marks = Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[2].Value);

            SI.Grade = Convert.ToString(dataGridView1.Rows[rowindex].Cells[3].Value);

            SDCD1.StudentInfos.InsertOnSubmit(SI);//InsertOnSubmit queries will automatic call thats the data context class handle it.
            SDCD1.SubmitChanges();
            MessageBox.Show(&quot;Saved&quot;);
            rowindex = 0;
        }
</pre>
<div class="preview">
<pre class="js">&nbsp;&nbsp;private&nbsp;<span class="js__operator">void</span>&nbsp;SaveButton_Click(object&nbsp;sender,&nbsp;EventArgs&nbsp;e)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__brace">{</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StudentDataClasses1DataContext&nbsp;SDCD1&nbsp;=&nbsp;<span class="js__operator">new</span>&nbsp;StudentDataClasses1DataContext(@<span class="js__string">&quot;Data&nbsp;Source=(LocalDB)\v11.0;AttachDbFilename=c:\users\ehtesham&nbsp;mehmood\documents\visual&nbsp;studio&nbsp;2012\Projects\FP1\FP1\abc.mdf;Integrated&nbsp;Security=True;Connect&nbsp;Timeout=30&quot;</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StudentInfo&nbsp;SI&nbsp;=&nbsp;<span class="js__operator">new</span>&nbsp;StudentInfo();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;rowindex&nbsp;=&nbsp;dataGridView1.CurrentRow.Index;&nbsp;&nbsp;<span class="js__sl_comment">//&nbsp;here&nbsp;rowindex&nbsp;will&nbsp;get&nbsp;through&nbsp;currentrow&nbsp;property&nbsp;of&nbsp;datagridview.</span>&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SI.Id&nbsp;=&nbsp;Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[<span class="js__num">0</span>].Value);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SI.Name&nbsp;=&nbsp;Convert.ToString(dataGridView1.Rows[rowindex].Cells[<span class="js__num">1</span>].Value);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SI.Marks&nbsp;=&nbsp;Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[<span class="js__num">2</span>].Value);&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SI.Grade&nbsp;=&nbsp;Convert.ToString(dataGridView1.Rows[rowindex].Cells[<span class="js__num">3</span>].Value);&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SDCD1.StudentInfos.InsertOnSubmit(SI);<span class="js__sl_comment">//InsertOnSubmit&nbsp;queries&nbsp;will&nbsp;automatic&nbsp;call&nbsp;thats&nbsp;the&nbsp;data&nbsp;context&nbsp;class&nbsp;handle&nbsp;it.</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SDCD1.SubmitChanges();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MessageBox.Show(<span class="js__string">&quot;Saved&quot;</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rowindex&nbsp;=&nbsp;<span class="js__num">0</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__brace">}</span>&nbsp;
</pre>
</div>
</div>
</div>
<div class="endscriptcode">&nbsp;</div>
<p>&nbsp;</p>
<p>Delete Data:</p>
<p>&nbsp;</p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden">private void button1_Click(object sender, EventArgs e)
        {
            int iid = 0;
            StudentDataClasses1DataContext SDCD1 = new StudentDataClasses1DataContext(@&quot;Data Source=(LocalDB)\v11.0;AttachDbFilename=c:\users\ehtesham mehmood\documents\visual studio 2012\Projects\FP1\FP1\abc.mdf;Integrated Security=True;Connect Timeout=30&quot;);
            StudentInfo SI = new StudentInfo();
            int rowindex = dataGridView1.CurrentRow.Index;  // here rowindex will get through currentrow property of datagridview.
            iid = Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[0].Value);
            var delete = from p in SDCD1.StudentInfos
                         where p.Id == iid// match the ecords.
                         select p;
            SDCD1.StudentInfos.DeleteAllOnSubmit(delete);// DeleteAllOnSubmit function will call and queries will automatic call thats the data context class handle it.
            SDCD1.SubmitChanges();
         //   SI = SDCD1.StudentInfos.Single(c =&gt; c.Id == iid);   
            rowindex = 0;

            MessageBox.Show(&quot;deleted&quot;);
            Refresh();

        }
</pre>
<div class="preview">
<pre class="js">private&nbsp;<span class="js__operator">void</span>&nbsp;button1_Click(object&nbsp;sender,&nbsp;EventArgs&nbsp;e)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__brace">{</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;iid&nbsp;=&nbsp;<span class="js__num">0</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StudentDataClasses1DataContext&nbsp;SDCD1&nbsp;=&nbsp;<span class="js__operator">new</span>&nbsp;StudentDataClasses1DataContext(@<span class="js__string">&quot;Data&nbsp;Source=(LocalDB)\v11.0;AttachDbFilename=c:\users\ehtesham&nbsp;mehmood\documents\visual&nbsp;studio&nbsp;2012\Projects\FP1\FP1\abc.mdf;Integrated&nbsp;Security=True;Connect&nbsp;Timeout=30&quot;</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StudentInfo&nbsp;SI&nbsp;=&nbsp;<span class="js__operator">new</span>&nbsp;StudentInfo();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;rowindex&nbsp;=&nbsp;dataGridView1.CurrentRow.Index;&nbsp;&nbsp;<span class="js__sl_comment">//&nbsp;here&nbsp;rowindex&nbsp;will&nbsp;get&nbsp;through&nbsp;currentrow&nbsp;property&nbsp;of&nbsp;datagridview.</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iid&nbsp;=&nbsp;Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[<span class="js__num">0</span>].Value);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__statement">var</span>&nbsp;<span class="js__operator">delete</span>&nbsp;=&nbsp;from&nbsp;p&nbsp;<span class="js__operator">in</span>&nbsp;SDCD1.StudentInfos&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;p.Id&nbsp;==&nbsp;iid//&nbsp;match&nbsp;the&nbsp;ecords.&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select&nbsp;p;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SDCD1.StudentInfos.DeleteAllOnSubmit(<span class="js__operator">delete</span>);<span class="js__sl_comment">//&nbsp;DeleteAllOnSubmit&nbsp;function&nbsp;will&nbsp;call&nbsp;and&nbsp;queries&nbsp;will&nbsp;automatic&nbsp;call&nbsp;thats&nbsp;the&nbsp;data&nbsp;context&nbsp;class&nbsp;handle&nbsp;it.</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SDCD1.SubmitChanges();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__sl_comment">//&nbsp;&nbsp;&nbsp;SI&nbsp;=&nbsp;SDCD1.StudentInfos.Single(c&nbsp;=&gt;&nbsp;c.Id&nbsp;==&nbsp;iid);&nbsp;&nbsp;&nbsp;</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rowindex&nbsp;=&nbsp;<span class="js__num">0</span>;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MessageBox.Show(<span class="js__string">&quot;deleted&quot;</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Refresh();&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__brace">}</span>&nbsp;
</pre>
</div>
</div>
</div>
<div class="endscriptcode">&nbsp;</div>
<p>&nbsp;</p>
<p>Update Data:</p>
<p>&nbsp;</p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden">private void button2_Click(object sender, EventArgs e)
        {
            int iid = 0;
            StudentDataClasses1DataContext SDCD1 = new StudentDataClasses1DataContext(@&quot;Data Source=(LocalDB)\v11.0;AttachDbFilename=c:\users\ehtesham mehmood\documents\visual studio 2012\Projects\FP1\FP1\abc.mdf;Integrated Security=True;Connect Timeout=30&quot;);
            StudentInfo SI = new StudentInfo();
            int rowindex = dataGridView1.CurrentRow.Index;   // here rowindex will get through currentrow property of datagridview.
            iid = Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[0].Value);
            var update = from s1 in SDCD1.StudentInfos
                         where s1.Id == iid
                         select s1;
            foreach (var v in update)
            {
                v.Id = Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[0].Value);
                v.Name = Convert.ToString(dataGridView1.Rows[rowindex].Cells[1].Value);
                v.Marks = Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[2].Value);
                v.Grade = Convert.ToString(dataGridView1.Rows[rowindex].Cells[3].Value);
            SDCD1.SubmitChanges(); // here will submitchanges function call and queries will automatic call.
            }
            MessageBox.Show(&quot;Updated&quot;);
            Refresh();// refresh the data gridview.

        }
</pre>
<div class="preview">
<pre class="js">private&nbsp;<span class="js__operator">void</span>&nbsp;button2_Click(object&nbsp;sender,&nbsp;EventArgs&nbsp;e)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__brace">{</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;iid&nbsp;=&nbsp;<span class="js__num">0</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StudentDataClasses1DataContext&nbsp;SDCD1&nbsp;=&nbsp;<span class="js__operator">new</span>&nbsp;StudentDataClasses1DataContext(@<span class="js__string">&quot;Data&nbsp;Source=(LocalDB)\v11.0;AttachDbFilename=c:\users\ehtesham&nbsp;mehmood\documents\visual&nbsp;studio&nbsp;2012\Projects\FP1\FP1\abc.mdf;Integrated&nbsp;Security=True;Connect&nbsp;Timeout=30&quot;</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StudentInfo&nbsp;SI&nbsp;=&nbsp;<span class="js__operator">new</span>&nbsp;StudentInfo();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;rowindex&nbsp;=&nbsp;dataGridView1.CurrentRow.Index;&nbsp;&nbsp;&nbsp;<span class="js__sl_comment">//&nbsp;here&nbsp;rowindex&nbsp;will&nbsp;get&nbsp;through&nbsp;currentrow&nbsp;property&nbsp;of&nbsp;datagridview.</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iid&nbsp;=&nbsp;Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[<span class="js__num">0</span>].Value);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__statement">var</span>&nbsp;update&nbsp;=&nbsp;from&nbsp;s1&nbsp;<span class="js__operator">in</span>&nbsp;SDCD1.StudentInfos&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;s1.Id&nbsp;==&nbsp;iid&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select&nbsp;s1;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(<span class="js__statement">var</span>&nbsp;v&nbsp;<span class="js__operator">in</span>&nbsp;update)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__brace">{</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v.Id&nbsp;=&nbsp;Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[<span class="js__num">0</span>].Value);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v.Name&nbsp;=&nbsp;Convert.ToString(dataGridView1.Rows[rowindex].Cells[<span class="js__num">1</span>].Value);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v.Marks&nbsp;=&nbsp;Convert.ToInt32(dataGridView1.Rows[rowindex].Cells[<span class="js__num">2</span>].Value);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v.Grade&nbsp;=&nbsp;Convert.ToString(dataGridView1.Rows[rowindex].Cells[<span class="js__num">3</span>].Value);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SDCD1.SubmitChanges();&nbsp;<span class="js__sl_comment">//&nbsp;here&nbsp;will&nbsp;submitchanges&nbsp;function&nbsp;call&nbsp;and&nbsp;queries&nbsp;will&nbsp;automatic&nbsp;call.</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__brace">}</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MessageBox.Show(<span class="js__string">&quot;Updated&quot;</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Refresh();<span class="js__sl_comment">//&nbsp;refresh&nbsp;the&nbsp;data&nbsp;gridview.</span>&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__brace">}</span>&nbsp;
</pre>
</div>
</div>
</div>
<div class="endscriptcode">&nbsp;</div>
<p>&nbsp;</p>
<p>Display/Refresh:</p>
<p>&nbsp;</p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden">private void Refresh()
        {
            StudentDataClasses1DataContext SDCD1 = new StudentDataClasses1DataContext(@&quot;Data Source=(LocalDB)\v11.0;AttachDbFilename=c:\users\ehtesham mehmood\documents\visual studio 2012\Projects\FP1\FP1\abc.mdf;Integrated Security=True;Connect Timeout=30&quot;);
            StudentInfo SI = new StudentInfo();
            var query = from q in SDCD1.StudentInfos
                        select q;
            dataGridView1.DataSource = query;// Attaching the all data with Datagridview
        }
</pre>
<div class="preview">
<pre class="js">private&nbsp;<span class="js__operator">void</span>&nbsp;Refresh()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__brace">{</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StudentDataClasses1DataContext&nbsp;SDCD1&nbsp;=&nbsp;<span class="js__operator">new</span>&nbsp;StudentDataClasses1DataContext(@<span class="js__string">&quot;Data&nbsp;Source=(LocalDB)\v11.0;AttachDbFilename=c:\users\ehtesham&nbsp;mehmood\documents\visual&nbsp;studio&nbsp;2012\Projects\FP1\FP1\abc.mdf;Integrated&nbsp;Security=True;Connect&nbsp;Timeout=30&quot;</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StudentInfo&nbsp;SI&nbsp;=&nbsp;<span class="js__operator">new</span>&nbsp;StudentInfo();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__statement">var</span>&nbsp;query&nbsp;=&nbsp;from&nbsp;q&nbsp;<span class="js__operator">in</span>&nbsp;SDCD1.StudentInfos&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select&nbsp;q;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataGridView1.DataSource&nbsp;=&nbsp;query;<span class="js__sl_comment">//&nbsp;Attaching&nbsp;the&nbsp;all&nbsp;data&nbsp;with&nbsp;Datagridview</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js__brace">}</span>&nbsp;
</pre>
</div>
</div>
</div>
<div class="endscriptcode">&nbsp;</div>
<p>&nbsp;</p>
<h1><em style="font-size:10px">&nbsp;&nbsp;</em></h1>

</div>


    </div>
</body>
</html>
