<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Header,0:HeaderFooterSprite,0:Header.NonMtps;/Areas/Centers/Themes/StandardDevCenter/Content:0&amp;amp;v=875F4807220CE6912BAB87167976178B" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Footer,0:HeaderFooterSprite,0:Footer.NonMtps,1:NewFooterSock,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;v=10B55093DA08CEEF26023F25F71F9E5B" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>LCD Display for Raspberry PI</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="https://i1.code.msdn.s-msft.com/content/common/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="https://i1.code.msdn.s-msft.com/content/common/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>LCD Display for Raspberry PI</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            C#, IoT, Embedded Hardware, Windows IoT
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            User Interface, Hardware, IoT, Embedded
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Windows RT
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">4/16/2017</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MIT</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h1>
<div class="endscriptcode">
<div class="endscriptcode"></div>
</div>
Introduction</h1>
<p>A&nbsp;Raspberry PI running Windows 10 IoT Core shall provide some information on a simple LCD display with 4 rows of 20 characters. The LCD display shall be connected to the Raspberry PI over the I2C bus. This connection requires only 4 wires.</p>
<p>As LCD display I have selected a Sainsmart LCD2004. You can buy it for less than 15 US Dollar.</p>
<p><img id="172223" src="https://i1.code.msdn.s-msft.com/lcd-display-for-raspberry-217c5fa2/image/file/172223/1/hardware.png" alt=""></p>
<p>&nbsp;</p>
<p>A datasheet for the LCD display and also for the I2C Bus Port expander used to connect the LCD Display with the Raspberry PI is included in the sample code. The LCD2004&nbsp;comes with&nbsp;the I2C Bus Port Expander connected as follows:</p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden">#region  Hardwware Information
// Hardware connection
// ===================
//
// The LCD controller and the port expander are connected as show here:
//
// HD44780    -  PCF8574
// ------------------------
//        RS  -   P0
//        RW  -   P1
//        EN  -   P2
// BackLight  -   P3
//       DB4  -   P4
//       DB5  -   P5
//       DB6  -   P6
//       DB7  -   P7
#endregion</pre>
<div class="preview">
<pre class="csharp"><span class="cs__preproc">#region&nbsp;&nbsp;Hardwware&nbsp;Information</span>&nbsp;
<span class="cs__com">//&nbsp;Hardware&nbsp;connection</span>&nbsp;
<span class="cs__com">//&nbsp;===================</span>&nbsp;
<span class="cs__com">//</span>&nbsp;
<span class="cs__com">//&nbsp;The&nbsp;LCD&nbsp;controller&nbsp;and&nbsp;the&nbsp;port&nbsp;expander&nbsp;are&nbsp;connected&nbsp;as&nbsp;show&nbsp;here:</span>&nbsp;
<span class="cs__com">//</span>&nbsp;
<span class="cs__com">//&nbsp;HD44780&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;PCF8574</span>&nbsp;
<span class="cs__com">//&nbsp;------------------------</span>&nbsp;
<span class="cs__com">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RS&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;P0</span>&nbsp;
<span class="cs__com">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RW&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;P1</span>&nbsp;
<span class="cs__com">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EN&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;P2</span>&nbsp;
<span class="cs__com">//&nbsp;BackLight&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;P3</span>&nbsp;
<span class="cs__com">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DB4&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;P4</span>&nbsp;
<span class="cs__com">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DB5&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;P5</span>&nbsp;
<span class="cs__com">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DB6&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;P6</span>&nbsp;
<span class="cs__com">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DB7&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;P7</span><span class="cs__preproc">&nbsp;
#endregion</span></pre>
</div>
</div>
</div>
<div class="endscriptcode">&nbsp;That means the connection between the LCD2004 and the Raspberry is possible only with four wires:</div>
<div class="endscriptcode"></div>
<ol>
<li>
<div class="endscriptcode">5 Volt supply (VCC)</div>
</li><li>
<div class="endscriptcode">Ground signal (GND)</div>
</li><li>
<div class="endscriptcode">I2C Data (SDA)</div>
</li><li>
<div class="endscriptcode">I2C Clock (SCL)</div>
</li></ol>
<p>The pinouts for the Raspberry PI can be found either <a href="https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://www.raspberrypi.org/blog/pinout-for-gpio-connectors/">
here</a> or by an internet search for &quot;Raspberry PI GPIO image&quot;. Here is how the connection looks in my test setup:</p>
<p><img id="172231" src="https://i1.code.msdn.s-msft.com/lcd-display-for-raspberry-217c5fa2/image/file/172231/1/connections-512x205.png" alt="" width="512" height="205"></p>
<p><em><br>
</em></p>
<h1><span>Building the Sample</span></h1>
<p>To build the sample select ARM as target platform and rebuild the solution. I will compile a library that contains the code for the communication with the LCD display via the I2C bus.</p>
<p><em><br>
</em></p>
<p><span style="font-size:20px; font-weight:bold">Description</span></p>
<p>The solution contains a library that implments the communication with the LCD display viar the I2C bus. The usage of that libray is demonstrated by a small Universal Windows App that runs on a Raspberry PI under Windows 10 IoT. You can control the App by
 connecting with the Remote IoT Client program to the Raspberry</p>
<p>The most interesting file is the LCD2004.cs in the I2CLibrary project.&nbsp;The file contains a class that establishes the communication&nbsp;with the LCD2004 device and provide methods for printing text, setting&nbsp;cursor position,&nbsp;enabling the backlight
 etc.</p>
<p>Here are some&nbsp;interesting code snippets:&nbsp;</p>
<p>For the communication over the I2C bus one has to know the I2C address of the&nbsp;LCD display. The&nbsp;LCD2004&nbsp;has the default address 0x27<em>.&nbsp;</em></p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden"> const int I2CAddress = 0x27;</pre>
<div class="preview">
<pre class="csharp">&nbsp;<span class="cs__keyword">const</span>&nbsp;<span class="cs__keyword">int</span>&nbsp;I2CAddress&nbsp;=&nbsp;0x27;<br></pre>
</div>
</div>
</div>
<p>The method Initialize() creates an I2CDevice object that acts as a proxy for the LCD2004 hardware device:</p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden">try
{
    var i2CSettings = new I2cConnectionSettings(I2CAddress);
    i2CSettings.BusSpeed = I2cBusSpeed.FastMode;

    string i2CMaster = I2cDevice.GetDeviceSelector();

    var i2CSlaves = await DeviceInformation.FindAllAsync(i2CMaster);
    _mDevice = await I2cDevice.FromIdAsync(i2CSlaves[0].Id, i2CSettings);
    if (_mDevice == null)
    {
        throw new Exception($&quot;I2C Device with address {I2CAddress} already in use&quot;);
    }
}
catch (Exception e)
{
    <a class="libraryLink" href="https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://msdn.microsoft.com/en-US/library/System.Diagnostics.Debug.WriteLine.aspx"  title="Auto generated link to System.Diagnostics.Debug.WriteLine">System.Diagnostics.Debug.WriteLine</a>(&quot;Exception: {0}&quot;, e.Message);
    _mDevice = null;
    throw;
}
InitializeHardware();</pre>
<div class="preview">
<pre class="csharp"><span class="cs__keyword">try</span>&nbsp;
{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;i2CSettings&nbsp;=&nbsp;<span class="cs__keyword">new</span>&nbsp;I2cConnectionSettings(I2CAddress);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;i2CSettings.BusSpeed&nbsp;=&nbsp;I2cBusSpeed.FastMode;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">string</span>&nbsp;i2CMaster&nbsp;=&nbsp;I2cDevice.GetDeviceSelector();&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;i2CSlaves&nbsp;=&nbsp;await&nbsp;DeviceInformation.FindAllAsync(i2CMaster);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;_mDevice&nbsp;=&nbsp;await&nbsp;I2cDevice.FromIdAsync(i2CSlaves[<span class="cs__number">0</span>].Id,&nbsp;i2CSettings);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">if</span>&nbsp;(_mDevice&nbsp;==&nbsp;<span class="cs__keyword">null</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">throw</span>&nbsp;<span class="cs__keyword">new</span>&nbsp;Exception($<span class="cs__string">&quot;I2C&nbsp;Device&nbsp;with&nbsp;address&nbsp;{I2CAddress}&nbsp;already&nbsp;in&nbsp;use&quot;</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
}&nbsp;
<span class="cs__keyword">catch</span>&nbsp;(Exception&nbsp;e)&nbsp;
{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://msdn.microsoft.com/en-US/library/System.Diagnostics.Debug.WriteLine.aspx"  title="Auto generated link to System.Diagnostics.Debug.WriteLine">System.Diagnostics.Debug.WriteLine</a>(<span class="cs__string">&quot;Exception:&nbsp;{0}&quot;</span>,&nbsp;e.Message);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;_mDevice&nbsp;=&nbsp;<span class="cs__keyword">null</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">throw</span>;&nbsp;
}&nbsp;
InitializeHardware();</pre>
</div>
</div>
</div>
<div class="endscriptcode">The sequence of commands for initalizing the hardware is defined in the datasheet. The LCD2004 is configured to communicate with 4 bits plus 3 handshake lines. The forth line is controlling the LCD's backlight.</div>
<div class="endscriptcode"></div>
<div class="endscriptcode"></div>
<div class="endscriptcode"></div>
<div class="endscriptcode">
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden">private void InitializeHardware()
{
    if (_mDevice != null)
    {
        try
        {
            byte[] data = {_backlight};
            _mDevice.Write(data);

            // put LCD into 4bit mode according to HD44780 datasheet page 46

            Write4Bits( 0x03 &lt;&lt; 4 );
            Delay(4);
            Write4Bits( 0x03 &lt;&lt; 4 );
            Delay(4);
            Write4Bits( 0x03 &lt;&lt; 4 );
            Delay(1);

            Write4Bits(0x02 &lt;&lt;4 );
            Delay(1);

            Write8Bits((byte)(Command.LCD_FUNCTIONSET    | _displayFunction ));
            Delay(2);
            Write8Bits((byte)(Command.LCD_DISPLAYCONTROL | _displayControl  ));
            Delay(2);

            Home();
            Clear();

            Write8Bits((byte) (Command.LCD_ENTRYMODESET | _displayMode));
            Delay(2);

        }
        catch (Exception)
        {
            <a class="libraryLink" href="https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://msdn.microsoft.com/en-US/library/System.Diagnostics.Debug.WriteLine.aspx"  title="Auto generated link to System.Diagnostics.Debug.WriteLine">System.Diagnostics.Debug.WriteLine</a>(&quot;Failed to initialize display on I2C address {0}&quot;, I2CAddress);
            throw;
        }

    }
}</pre>
<div class="preview">
<pre class="csharp"><span class="cs__keyword">private</span>&nbsp;<span class="cs__keyword">void</span>&nbsp;InitializeHardware()&nbsp;
{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">if</span>&nbsp;(_mDevice&nbsp;!=&nbsp;<span class="cs__keyword">null</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">try</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">byte</span>[]&nbsp;data&nbsp;=&nbsp;{_backlight};&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_mDevice.Write(data);&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__com">//&nbsp;put&nbsp;LCD&nbsp;into&nbsp;4bit&nbsp;mode&nbsp;according&nbsp;to&nbsp;HD44780&nbsp;datasheet&nbsp;page&nbsp;46</span>&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write4Bits(&nbsp;0x03&nbsp;&lt;&lt;&nbsp;<span class="cs__number">4</span>&nbsp;);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delay(<span class="cs__number">4</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write4Bits(&nbsp;0x03&nbsp;&lt;&lt;&nbsp;<span class="cs__number">4</span>&nbsp;);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delay(<span class="cs__number">4</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write4Bits(&nbsp;0x03&nbsp;&lt;&lt;&nbsp;<span class="cs__number">4</span>&nbsp;);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delay(<span class="cs__number">1</span>);&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write4Bits(0x02&nbsp;&lt;&lt;<span class="cs__number">4</span>&nbsp;);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delay(<span class="cs__number">1</span>);&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write8Bits((<span class="cs__keyword">byte</span>)(Command.LCD_FUNCTIONSET&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;_displayFunction&nbsp;));&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delay(<span class="cs__number">2</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write8Bits((<span class="cs__keyword">byte</span>)(Command.LCD_DISPLAYCONTROL&nbsp;|&nbsp;_displayControl&nbsp;&nbsp;));&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delay(<span class="cs__number">2</span>);&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Home();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clear();&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write8Bits((<span class="cs__keyword">byte</span>)&nbsp;(Command.LCD_ENTRYMODESET&nbsp;|&nbsp;_displayMode));&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delay(<span class="cs__number">2</span>);&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">catch</span>&nbsp;(Exception)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="libraryLink" href="https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://code.msdn.microsoft.com/LCD-Display-for-Raspberry-217c5fa2/https://msdn.microsoft.com/en-US/library/System.Diagnostics.Debug.WriteLine.aspx"  title="Auto generated link to System.Diagnostics.Debug.WriteLine">System.Diagnostics.Debug.WriteLine</a>(<span class="cs__string">&quot;Failed&nbsp;to&nbsp;initialize&nbsp;display&nbsp;on&nbsp;I2C&nbsp;address&nbsp;{0}&quot;</span>,&nbsp;I2CAddress);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">throw</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
}</pre>
</div>
</div>
</div>
<div class="endscriptcode"></div>
</div>
<h1><span>Source Code Files</span></h1>
<ul>
</ul>
<p><em>The Visual Studio Solution contains two projects:</em></p>
<ul>
<li><em>I2CLibray&nbsp;</em>- Reusable library for communicating with a LCD2004 Display<em>.</em>
</li><li><em><em>LCDisplay - </em></em>Demo program (Universal Windows App) for Raspberry PI<em><em>.</em></em>
</li></ul>
<h1>More Information</h1>
<p>Also included in the example is a HTML Help that provides an overview about the I2CLibrary classes. The library is basically a port from the sainsmart C&#43;&#43; Library for an Arduino. All functions except support vor customer defined characters have been ported
 to C#.</p>
<p><em><br>
</em></p>

</div>


    </div>
</body>
</html>
